<!doctype html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>位置一览</title>
		<style>
			:root {
				color-scheme: light dark;
				--bg: #ffffff;
				--fg: #111111;
				--muted: #666666;
				--card-bg: #ffffff;
				--card-border: #dddddd;
				--gap: 16px;
				--max-img-w: 320px;
			}
			* { box-sizing: border-box; }
			body {
				font-family: system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC", "Microsoft YaHei", Arial, sans-serif;
				margin: 4vh auto;
				line-height: 1.5;
				max-width: min(980px, 92vw);
				background: var(--bg);
				color: var(--fg);
			}
			body.theme-light {
				color-scheme: light;
				--bg: #ffffff;
				--fg: #111111;
				--muted: #666666;
				--card-bg: #ffffff;
				--card-border: #dddddd;
			}
			body.theme-dark {
				color-scheme: dark;
				--bg: #0b0b0b;
				--fg: #eaeaea;
				--muted: #a1a1a1;
				--card-bg: #121212;
				--card-border: #2a2a2a;
			}
			h1 { font-size: clamp(20px, 3.2vw, 28px); margin: 0 0 14px; text-align: left; }
			.header-row {
				display: flex;
				align-items: center;
				justify-content: space-between;
				gap: 10px;
				margin: 0 0 12px;
				flex-wrap: wrap;
			}
			.header-row h1 { margin: 0; }
			.tip {
				font-size: 14px;
				font-weight: 700;
				color: #d9480f;
				white-space: nowrap;
				user-select: none;
			}
			.back-row { margin: 0 0 10px; }
			.back-btn, .link-btn {
				display: inline-block;
				border: 1px solid var(--card-border);
				background: var(--card-bg);
				color: var(--fg);
				border-radius: 8px;
				padding: 8px 12px;
				text-decoration: none;
				box-shadow: 0 1px 2px rgba(0,0,0,0.06);
				font-size: 14px;
			}
			.back-btn:hover, .link-btn:hover { filter: brightness(0.98); }

					/* 改为响应式卡片网格 */
							.list {
						display: grid;
						grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
						gap: 16px;
					}
							.row {
								display: flex;
								flex-direction: column;
						padding: 0;
						background: var(--card-bg);
						border: 1px solid var(--card-border);
						border-radius: 10px;
						overflow: hidden;
						box-shadow: 0 1px 2px rgba(0,0,0,0.04);
						transition: box-shadow .2s ease, transform .2s ease, border-color .2s ease;
					}
					.row:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,0.08); border-color: rgba(0,0,0,0.08); }
							.text { padding: 12px 12px 14px; line-height: 1.65; }
							/* 限制描述文字两行，避免高度不一致 */
							.text span:last-child {
								display: -webkit-box;
							line-clamp: 2;
								-webkit-line-clamp: 2;
								-webkit-box-orient: vertical;
								overflow: hidden;
							}
					.title {
						display: inline-block;
						font-weight: 600;
						margin: 0 6px 6px 0;
						padding: 2px 8px;
						font-size: 13px;
						border-radius: 999px;
						background: rgba(0,102,204,0.10);
						color: #005299;
					}
					body.theme-dark .title { background: rgba(102,179,255,0.12); color: #9fd0ff; }
							/* 固定图片显示比例为 16:9，统一尺寸并将图片置顶显示 */
							.img-wrap {
								order: -1;
								width: 100%;
								max-width: 100%;
								aspect-ratio: 16 / 9;
								overflow: hidden;
								background: #0002;
								border-bottom: 1px solid var(--card-border);
							}
					.img-wrap img {
								display: block;
								width: 100%;
								height: 100%;
								object-fit: cover; /* 如需强制拉伸不裁剪，可将 cover 改为 fill */
								object-position: center;
					}
					@media (max-width: 640px) { .list { grid-template-columns: 1fr; } }

			/* theme button (same as index) */
			.theme-toggle {
				position: fixed;
				top: 16px;
				right: 16px;
				background: var(--card-bg);
				border: 1px solid var(--card-border);
				border-radius: 50%;
				width: 40px;
				height: 40px;
				font-size: 18px;
				cursor: pointer;
				box-shadow: 0 1px 2px rgba(0,0,0,0.1);
				z-index: 100;
			}
			.theme-toggle:hover { filter: brightness(0.98); }

			/* corner link (same as index) */
			.corner-link {
				position: fixed;
				top: 16px;
				left: 16px;
				background: var(--card-bg);
				border: 1px solid var(--card-border);
				color: var(--fg);
				border-radius: 8px;
				padding: 8px 12px;
				line-height: 1;
				font-size: 14px;
				text-decoration: none;
				box-shadow: 0 1px 2px rgba(0,0,0,0.06);
			}
			.corner-link:hover { filter: brightness(0.98); }

			/* Lightbox */
			.lightbox {
				position: fixed;
				inset: 0;
				background: rgba(0,0,0,0.86);
				display: none;
				align-items: center;
				justify-content: center;
				padding: 24px;
				z-index: 9999;
			}
			.lightbox.open { display: flex; }
			.lightbox img {
				max-width: 92vw;
				max-height: 92vh;
				box-shadow: 0 8px 30px rgba(0,0,0,0.5);
				border-radius: 10px;
				border: 1px solid rgba(255,255,255,0.2);
				background: #111;
			}
					.lightbox .close-btn {
				position: fixed;
				top: 16px;
				right: 16px;
				width: 40px;
				height: 40px;
				border-radius: 50%;
				border: 1px solid rgba(255,255,255,0.25);
				background: rgba(0,0,0,0.35);
				color: #fff;
				display: grid;
				place-items: center;
				cursor: pointer;
				font-size: 20px;
						outline: none;
			}
					.lightbox .close-btn:focus-visible { box-shadow: 0 0 0 3px rgba(255,255,255,0.35); }
			.lightbox .caption {
				position: fixed;
				left: 24px;
				right: 24px;
				bottom: 18px;
				color: #eee;
				text-align: center;
				font-size: 14px;
				text-shadow: 0 1px 2px rgba(0,0,0,0.5);
			}
			.no-scroll { overflow: hidden; }

			@media print {
				body { margin: 0.5cm; }
				.theme-toggle, .corner-link { display: none; }
			}
		</style>
		<meta name="description" content="三角洲密码——位置与图片一览：每行对应一条说明与一张图片。" />
	</head>
	<body>
		<button id="themeToggle" class="theme-toggle" aria-label="切换日/夜间" title="切换日/夜间">🌙</button>
		<a class="corner-link" href="https://gqm.cheniyy.top" target="_blank" rel="noopener" aria-label="前往改枪码网站" title="前往改枪码网站">改枪码</a>
		<main>
			<nav class="back-row" aria-label="页面导航">
				<a class="back-btn" href="index.html" aria-label="返回首页" title="返回首页">← 返回</a>
			</nav>
			<div class="header-row">
				<h1>位置与图片一览</h1>
				<div class="tip" role="note" aria-label="提示">Tip: 点击图片可以放大哦</div>
			</div>
			<section class="list">
				<!-- 零号大坝 -->
				<div class="row">
					<div class="text">
						<span class="title">【零号大坝】</span>
						<span>位置: 主变电站右侧，进入地下管道后匍匐到通道尽头处</span>
					</div>
					<div class="img-wrap">
						<img src="image/daba.png" alt="零号大坝" loading="lazy" />
					</div>
				</div>

				<!-- 长弓溪谷 -->
				<div class="row">
					<div class="text">
						<span class="title">【长弓溪谷】</span>
						<span>位置: 地图右下角标点附近地下入口</span>
					</div>
					<div class="img-wrap">
						<img src="image/changgongxigu.png" alt="长弓溪谷" loading="lazy" />
					</div>
				</div>

				<!-- 巴克什 -->
				<div class="row">
					<div class="text">
						<span class="title">【巴克什】</span>
						<span>位置: 大浴场北侧</span>
					</div>
					<div class="img-wrap">
						<img src="image/bakeshi.png" alt="巴克什" loading="lazy" />
					</div>
				</div>

				<!-- 航天基地 -->
				<div class="row">
					<div class="text">
						<span class="title">【航天基地】</span>
						<span>位置: 工业区组装室2楼</span>
					</div>
					<div class="img-wrap">
						<img src="image/hangtian.png" alt="航天基地" loading="lazy" />
					</div>
				</div>

				<!-- 潮汐监狱 -->
				<div class="row">
					<div class="text">
						<span class="title">【潮汐监狱】</span>
						<span>位置: 监狱行政区1楼大厅楼梯拐角处</span>
					</div>
					<div class="img-wrap">
						<img src="image/prison.png" alt="潮汐监狱" loading="lazy" />
					</div>
				</div>
			</section>
		</main>

		<!-- Lightbox overlay -->
		<div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="图片预览">
			<button class="close-btn" id="lightbox-close" aria-label="关闭预览">×</button>
			<img id="lightbox-img" alt="预览图" />
			<div class="caption" id="lightbox-caption"></div>
		</div>

		<script>
			// 主题切换，与 index 一致
			(function() {
				const STORAGE_KEY = 'theme';
				const btn = document.getElementById('themeToggle');
				const hour = new Date().getHours();
				const defaultTheme = (hour >= 6 && hour < 18) ? 'light' : 'dark';

				function applyTheme(theme) {
					document.body.classList.remove('theme-light', 'theme-dark');
					document.body.classList.add('theme-' + theme);
					const to = theme === 'light' ? 'dark' : 'light';
					btn.textContent = theme === 'light' ? '🌙' : '🌞';
					btn.setAttribute('aria-label', '切换到' + (to === 'light' ? '日间' : '夜间'));
					btn.setAttribute('title', '切换到' + (to === 'light' ? '日间' : '夜间'));
				}

				let theme = localStorage.getItem(STORAGE_KEY) || defaultTheme;
				applyTheme(theme);

				btn.addEventListener('click', function() {
					theme = (theme === 'light') ? 'dark' : 'light';
					localStorage.setItem(STORAGE_KEY, theme);
					applyTheme(theme);
				});
			})();

					// 图片灯箱 + 键盘无障碍
			(function(){
				const lb = document.getElementById('lightbox');
				const lbImg = document.getElementById('lightbox-img');
				const lbCap = document.getElementById('lightbox-caption');
				const closeBtn = document.getElementById('lightbox-close');
				function openLightbox(src, alt){
					lbImg.src = src;
					lbImg.alt = alt || '预览图';
					lbCap.textContent = alt || '';
					lb.classList.add('open');
					document.body.classList.add('no-scroll');
				}
				function closeLightbox(){
					lb.classList.remove('open');
					document.body.classList.remove('no-scroll');
					lbImg.removeAttribute('src');
				}
						document.querySelectorAll('.img-wrap img').forEach(img => {
							img.style.cursor = 'zoom-in';
							img.setAttribute('tabindex', '0');
							img.setAttribute('role', 'button');
							img.setAttribute('aria-label', (img.alt || '图片') + '，按回车放大');
							img.addEventListener('click', () => openLightbox(img.currentSrc || img.src, img.alt));
							img.addEventListener('keydown', (e) => {
								if (e.key === 'Enter' || e.key === ' ') {
									e.preventDefault();
									openLightbox(img.currentSrc || img.src, img.alt);
								}
							});
						});
				lb.addEventListener('click', (e) => { if (e.target === lb) closeLightbox(); });
				closeBtn.addEventListener('click', closeLightbox);
				document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && lb.classList.contains('open')) closeLightbox(); });
			})();
		</script>
	</body>
</html>
